package de.hitselikez.cmds;

import de.hitselikez.main.Main;
import org.bukkit.Bukkit;
import org.bukkit.command.Command;
import org.bukkit.command.CommandExecutor;
import org.bukkit.command.CommandSender;
import org.bukkit.entity.Player;

public class Fly implements CommandExecutor {
    @Override
    public boolean onCommand(CommandSender sender, Command cmd, String string, String[] args) {

        Player p = (Player) sender;

        if (args.length == 0) { // /Fly

            if (p.hasPermission("Command.fly")) {

                if (p.getAllowFlight()) {

                    p.setAllowFlight(false);
                    p.sendMessage(Main.sys + "Du kannst nun nich mehr Fliegen !");

                } else {

                    p.setAllowFlight(true);
                    p.sendMessage(Main.sys + "Du kannst nun Fliegen !");

                }

            } else {

                p.sendMessage(Main.noperms);

            }


        } else if (args.length == 1){ //  /Fly [Spieler]

            if (p.hasPermission("Command.fly.other")) {

                Player t = Bukkit.getPlayer(args[0]);

                if (t.getAllowFlight()) {

                    t.setAllowFlight(false);
                    t.sendMessage(Main.sys + "Du kannst nun nich mehr Fliegen !");

                    p.sendMessage(Main.sys + "Du hast ยง6" + t.getName() + " ยง7aus dem Fly-Mode gesetzt !");

                } else {

                    t.setAllowFlight(true);
                    t.sendMessage(Main.sys + "Du kannst nun Fliegen !");

                    p.sendMessage(Main.sys + "Du hast ยง6" + t.getName() + " ยง7in den Fly-Mode gesetzt !");

                }

            } else {

                p.sendMessage(Main.noperms);

            }

        } else { //  /Fly [Fehler]

            p.sendMessage(Main.sys + "Bitte nutze '/Fly [Spieler]'");

        }

        return false;
    }
}
